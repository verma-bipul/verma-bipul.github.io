<!DOCTYPE html>
<html lang=en-us><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title> Grouping_in_R - Information Set Blog</title>
    <meta name="description" content="Group would be perhaps one of the most frequently used tools in R. Grouping becomes handy with the dplyr library, so we&rsquo;ll be using that.
The syntax is as follows:
df_grouped &lt;- df %&gt;% group_by(col_names) %&gt;% summarize(gr_col_name = function(col_name)) # Given below are a list of functions that be used: sum min max mean sd IQR mad quantile(col_name, probs = .9) #- finds the 90th percentile for group n() #-counts the number of observations n_distinct(col_name) #- counts the number of unique observations Example:">
    <link rel="canonical" href="http://verma-bipul.github.io/programming/r/grouping_in_r/">
    <meta property="og:title" content="Grouping_in_R">
    <meta property="og:type" content="article">
    <meta property="og:url" content="http://verma-bipul.github.io/programming/r/grouping_in_r/">
    <meta property="og:description" content="Group would be perhaps one of the most frequently used tools in R. Grouping becomes handy with the dplyr library, so we&rsquo;ll be using that.
The syntax is as follows:
df_grouped &lt;- df %&gt;% group_by(col_names) %&gt;% summarize(gr_col_name = function(col_name)) # Given below are a list of functions that be used: sum min max mean sd IQR mad quantile(col_name, probs = .9) #- finds the 90th percentile for group n() #-counts the number of observations n_distinct(col_name) #- counts the number of unique observations Example:">
    <meta property="og:site_name" content="Information Set Blog">
    <link rel="stylesheet" href="http://verma-bipul.github.io/css/main.min.d8029ac6b4d75a2b3a356c73b20861a6ab0899c888e15fe25c8e0600a0d09c2e.css" integrity="sha256-2AKaxrTXWis6NWxzsghhpqsImciI4V/iXI4GAKDQnC4=">
    <meta name="generator" content="Hugo 0.108.0">
    <script type="module" src="https://unpkg.com/ionicons@5.1.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule="" src="https://unpkg.com/ionicons@5.1.2/dist/ionicons/ionicons.js"></script>
    
</head>
<body><header class="site-header">
    <nav class="site-nav" role="navigation" aria-label="breadcrumb">
    <ol itemscope itemtype="https://schema.org/BreadcrumbList" class="breadcrumb"><li class="breadcrumb-item  " 
  itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
  <a itemtype="https://schema.org/Thing" itemprop="item" href="http://verma-bipul.github.io/">
    <span itemprop="name">Index of ~</span>
  </a>
  <meta itemprop="position" content="0" />
</li>/<li class="breadcrumb-item  " 
  itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
  <a itemtype="https://schema.org/Thing" itemprop="item" href="http://verma-bipul.github.io/programming/">
    <span itemprop="name">programming</span>
  </a>
  <meta itemprop="position" content="0" />
</li>/<li class="breadcrumb-item  " 
  itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
  <a itemtype="https://schema.org/Thing" itemprop="item" href="http://verma-bipul.github.io/programming/r/">
    <span itemprop="name">r</span>
  </a>
  <meta itemprop="position" content="0" />
</li>/<li class="breadcrumb-item active hidden" aria-current="page"
  itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
  <a itemtype="https://schema.org/Thing" itemprop="item" href="http://verma-bipul.github.io/programming/r/grouping_in_r/">
    <span itemprop="name">grouping_in_r</span>
  </a>
  <meta itemprop="position" content="1" />
</li></ol>
    </nav>
    <h1 class="site-title hidden">
		<a href="http://verma-bipul.github.io/">Information Set Blog</a>
    </h1>
</header>
<main id="content">
<article role="article" class="content post h-entry" itemscope="" itemtype="http://schema.org/BlogPosting">
    <header class="post-header">        
        <h2 class="post-title" itemprop="name headline">Grouping_in_R</h2>
        <span class="post-meta">
            <time class="date-published" datetime="2022-12-27T14:56:17&#43;07:00" itemprop="datePublished">
                Tue, 27 Dec 2022
            </time>
            
        </span>
    </header>
    <div class="post-content" itemprop="articleBody">
        <p>Group would be perhaps one of the most frequently used tools in R. Grouping becomes handy with the dplyr library, so we&rsquo;ll be using that.</p>
<p>The syntax is as follows:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-R" data-lang="R"><span class="line"><span class="cl"><span class="n">df_grouped</span> <span class="o">&lt;-</span> <span class="n">df</span> <span class="o">%&gt;%</span> <span class="nf">group_by</span><span class="p">(</span><span class="n">col_names</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">                     <span class="nf">summarize</span><span class="p">(</span><span class="n">gr_col_name</span> <span class="o">=</span> <span class="nf">function</span><span class="p">(</span><span class="n">col_name</span><span class="p">))</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-R" data-lang="R"><span class="line"><span class="cl"><span class="c1"># Given below are a list of functions that be used:</span>
</span></span><span class="line"><span class="cl"><span class="n">sum</span>
</span></span><span class="line"><span class="cl"><span class="n">min</span> 
</span></span><span class="line"><span class="cl"><span class="n">max</span>
</span></span><span class="line"><span class="cl"><span class="n">mean</span>
</span></span><span class="line"><span class="cl"><span class="n">sd</span>
</span></span><span class="line"><span class="cl"><span class="n">IQR</span>
</span></span><span class="line"><span class="cl"><span class="n">mad</span>
</span></span><span class="line"><span class="cl"><span class="nf">quantile</span><span class="p">(</span><span class="n">col_name</span><span class="p">,</span> <span class="n">probs</span> <span class="o">=</span> <span class="m">.9</span><span class="p">)</span> <span class="c1">#- finds the 90th percentile for group</span>
</span></span><span class="line"><span class="cl"><span class="nf">n</span><span class="p">()</span>  <span class="c1">#-counts the number of observations</span>
</span></span><span class="line"><span class="cl"><span class="nf">n_distinct</span><span class="p">(</span><span class="n">col_name</span><span class="p">)</span> <span class="c1">#- counts the number of unique observations</span>
</span></span></code></pre></div><p>Example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-R" data-lang="R"><span class="line"><span class="cl"><span class="n">class_mean</span> <span class="o">&lt;-</span> <span class="n">scores</span> <span class="o">%&gt;%</span> <span class="nf">group_by</span><span class="p">(</span><span class="n">class_code</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">                    <span class="nf">summarize</span><span class="p">(</span><span class="n">mean_score</span> <span class="o">=</span> <span class="nf">mean</span><span class="p">(</span><span class="n">marks</span><span class="p">))</span> 
</span></span></code></pre></div><h3 id="custom-functions-with-mutate">Custom functions with mutate</h3>
<p>Instead of using predefined functions as done in the previous case, we can also apply custom functions using the mutate command.</p>
<p>Note: Mutate retains all the rows of the original dataset unlike summarize which keeps only the columns passed into it.</p>
<p>Example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-R" data-lang="R"><span class="line"><span class="cl"><span class="n">df</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl"> <span class="nf">mutate</span><span class="p">(</span><span class="n">mean_bpm</span> <span class="o">=</span> <span class="p">(</span><span class="n">bpm</span> <span class="o">-</span> <span class="nf">mean</span><span class="p">(</span><span class="n">bpm</span><span class="p">))</span><span class="n">^2</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="group-and-select">Group and select</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-R" data-lang="R"><span class="line"><span class="cl"><span class="n">df</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl"> <span class="nf">mutate</span><span class="p">(</span><span class="n">mean_bpm</span> <span class="o">=</span> <span class="p">(</span><span class="n">bpm</span> <span class="o">-</span> <span class="nf">mean</span><span class="p">(</span><span class="n">bpm</span><span class="p">))</span><span class="n">^2</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl"> <span class="nf">select</span><span class="p">(</span><span class="n">genre</span><span class="p">,</span> <span class="n">mean_bpm</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="ungroup">Ungroup</h3>
<p>Example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-R" data-lang="R"><span class="line"><span class="cl"><span class="n">df</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl"> <span class="nf">group_by</span><span class="p">(</span><span class="n">genre</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl"> <span class="nf">mutate</span><span class="p">(</span><span class="n">mean_bpm</span> <span class="o">=</span> <span class="nf">mean</span><span class="p">(</span><span class="n">bpm</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl"> <span class="nf">mutate</span><span class="p">(</span><span class="n">my_grouped_sum</span> <span class="o">=</span> <span class="nf">sum</span><span class="p">(</span><span class="n">mean_bpm</span><span class="p">))</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl"> <span class="nf">ungroup</span><span class="p">()</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl"> <span class="nf">mutate</span><span class="p">(</span><span class="n">my_regular_sum</span> <span class="o">=</span> <span class="nf">sum</span><span class="p">(</span><span class="n">mean_bpm</span><span class="p">))</span>
</span></span></code></pre></div><h2 id="reference">Reference</h2>
<p>
<a href="https://builtin.com/data-science/grouping-r" target="_blank" rel="nofollow noreferrer noopener">https://builtin.com/data-science/grouping-r</a></p>
<p>
<a href="https://www.statology.org/group-summarize-data-r/" target="_blank" rel="nofollow noreferrer noopener">https://www.statology.org/group-summarize-data-r/</a></p>

    </div>
</article>
<div class="pagination">
    
    <div class="prev"> <a href="http://verma-bipul.github.io/programming/r/recursively_reduce/">Previous Post</a> </div>
    
    
    <div class="next"> <a href="http://verma-bipul.github.io/programming/r/reshaping_data/">Next Post</a> </div>
    
</div>


        </main><footer class="site-footer">
	<span class="left">Gohugo/0.108.0 </span> 
	<span class="right">
		<em>Information Set Blog</em>
	</span>
</footer>
</body>
</html>
