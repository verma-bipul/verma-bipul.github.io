<!DOCTYPE html>
<html lang=en-us><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title> Basic_data_analysis - Information Set Blog</title>
    <meta name="description" content="Loading Dataset dataset_name &lt;- read_dta(&#34;./family_data.dta&#34;) # read stata dta requires library(haven) df&lt;-read.csv(&#34;path&#34;, header = T, sep = &#34;,&#34;, skip = 0) # read csv, include 1st row as column names, skip 0 rows. Saving Dataset save(df, &#34;path/file_name.Rda&#34;) # to save in Rda format write_dta(df, &#34;path/file_name.dta&#34;) # to save in stata dta format, requires library(haven) Data Exploration names(data) # gives the list of column names present in the dataset colnames(data) head(data) # gives a few starting values of the all column in the dataset dim(data) # gives the dimension fo the dataset i.">
    <link rel="canonical" href="http://verma-bipul.github.io/programming/r/r_basic_data_analysis/">
    <meta property="og:title" content="Basic_data_analysis">
    <meta property="og:type" content="article">
    <meta property="og:url" content="http://verma-bipul.github.io/programming/r/r_basic_data_analysis/">
    <meta property="og:description" content="Loading Dataset dataset_name &lt;- read_dta(&#34;./family_data.dta&#34;) # read stata dta requires library(haven) df&lt;-read.csv(&#34;path&#34;, header = T, sep = &#34;,&#34;, skip = 0) # read csv, include 1st row as column names, skip 0 rows. Saving Dataset save(df, &#34;path/file_name.Rda&#34;) # to save in Rda format write_dta(df, &#34;path/file_name.dta&#34;) # to save in stata dta format, requires library(haven) Data Exploration names(data) # gives the list of column names present in the dataset colnames(data) head(data) # gives a few starting values of the all column in the dataset dim(data) # gives the dimension fo the dataset i.">
    <meta property="og:site_name" content="Information Set Blog">
    <link rel="stylesheet" href="http://verma-bipul.github.io/css/main.min.d8029ac6b4d75a2b3a356c73b20861a6ab0899c888e15fe25c8e0600a0d09c2e.css" integrity="sha256-2AKaxrTXWis6NWxzsghhpqsImciI4V/iXI4GAKDQnC4=">
    <meta name="generator" content="Hugo 0.108.0">
    <script type="module" src="https://unpkg.com/ionicons@5.1.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule="" src="https://unpkg.com/ionicons@5.1.2/dist/ionicons/ionicons.js"></script>
    
</head>
<body><header class="site-header">
    <nav class="site-nav" role="navigation" aria-label="breadcrumb">
    <ol itemscope itemtype="https://schema.org/BreadcrumbList" class="breadcrumb"><li class="breadcrumb-item  " 
  itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
  <a itemtype="https://schema.org/Thing" itemprop="item" href="http://verma-bipul.github.io/">
    <span itemprop="name">Index of ~</span>
  </a>
  <meta itemprop="position" content="0" />
</li>/<li class="breadcrumb-item  " 
  itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
  <a itemtype="https://schema.org/Thing" itemprop="item" href="http://verma-bipul.github.io/programming/">
    <span itemprop="name">programming</span>
  </a>
  <meta itemprop="position" content="0" />
</li>/<li class="breadcrumb-item  " 
  itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
  <a itemtype="https://schema.org/Thing" itemprop="item" href="http://verma-bipul.github.io/programming/r/">
    <span itemprop="name">r</span>
  </a>
  <meta itemprop="position" content="0" />
</li>/<li class="breadcrumb-item active hidden" aria-current="page"
  itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
  <a itemtype="https://schema.org/Thing" itemprop="item" href="http://verma-bipul.github.io/programming/r/r_basic_data_analysis/">
    <span itemprop="name">r_basic_data_analysis</span>
  </a>
  <meta itemprop="position" content="1" />
</li></ol>
    </nav>
    <h1 class="site-title hidden">
		<a href="http://verma-bipul.github.io/">Information Set Blog</a>
    </h1>
</header>
<main id="content">
<article role="article" class="content post h-entry" itemscope="" itemtype="http://schema.org/BlogPosting">
    <header class="post-header">        
        <h2 class="post-title" itemprop="name headline">Basic_data_analysis</h2>
        <span class="post-meta">
            <time class="date-published" datetime="2022-09-04T17:47:22&#43;07:00" itemprop="datePublished">
                Sun, 4 Sep 2022
            </time>
            
        </span>
    </header>
    <div class="post-content" itemprop="articleBody">
        <h2 id="loading-dataset">Loading Dataset</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-R" data-lang="R"><span class="line"><span class="cl"><span class="n">dataset_name</span> <span class="o">&lt;-</span> <span class="nf">read_dta</span><span class="p">(</span><span class="s">&#34;./family_data.dta&#34;</span><span class="p">)</span> <span class="c1"># read stata dta requires library(haven)</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">&lt;-</span><span class="nf">read.csv</span><span class="p">(</span><span class="s">&#34;path&#34;</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="bp">T</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s">&#34;,&#34;</span><span class="p">,</span> <span class="n">skip</span> <span class="o">=</span> <span class="m">0</span><span class="p">)</span> <span class="c1"># read csv, include 1st row as column names, skip 0 rows.</span>
</span></span></code></pre></div><h2 id="saving-dataset">Saving Dataset</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-R" data-lang="R"><span class="line"><span class="cl"><span class="nf">save</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="s">&#34;path/file_name.Rda&#34;</span><span class="p">)</span> <span class="c1"># to save in Rda format</span>
</span></span><span class="line"><span class="cl"><span class="nf">write_dta</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="s">&#34;path/file_name.dta&#34;</span><span class="p">)</span> <span class="c1"># to save in stata dta format, requires library(haven)</span>
</span></span></code></pre></div><h2 id="data-exploration">Data Exploration</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-R" data-lang="R"><span class="line"><span class="cl"><span class="nf">names</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="c1"># gives the list of column names present in the dataset </span>
</span></span><span class="line"><span class="cl"><span class="nf">colnames</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">head</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>  <span class="c1"># gives a few starting values of the all column in the dataset</span>
</span></span><span class="line"><span class="cl"><span class="nf">dim</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>   <span class="c1"># gives the dimension fo the dataset i.e rows and columns</span>
</span></span><span class="line"><span class="cl"><span class="nf">str</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>   <span class="c1"># give the structure of columns in the dataset</span>
</span></span></code></pre></div><h2 id="select-columns">Select Columns</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-R" data-lang="R"><span class="line"><span class="cl"><span class="nf">subset</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">df</span><span class="o">$</span><span class="n">colname</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>  <span class="c1"># This will select columns a and c from the dataset </span>
</span></span><span class="line"><span class="cl"><span class="nf">subset</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">select</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span> <span class="c1"># another way of writing the same thing</span>
</span></span><span class="line"><span class="cl"><span class="nf">subset</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">select</span> <span class="o">=</span> <span class="o">-</span><span class="nf">c</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span> <span class="c1"># this will select all columns except a and c</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="nf">[c</span><span class="p">(</span><span class="s">&#34;a&#34;</span><span class="p">,</span> <span class="s">&#34;c&#34;</span><span class="p">)</span><span class="n">]</span>  <span class="c1"># select a and c column. Note that we have to write column names as strings in this case unlike when using subset </span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">%&gt;%</span> <span class="nf">select</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>  <span class="c1"># select columns a and c  # requires library(dplyr)</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">%&gt;%</span> <span class="nf">select</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">a</span><span class="o">:</span><span class="n">c</span><span class="p">))</span>  <span class="c1"># select all columns from a to c </span>
</span></span><span class="line"><span class="cl"><span class="c1"># There are many more selection options available with dplyr library -- look for the manual</span>
</span></span></code></pre></div><h2 id="rename-columns">Rename Columns</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-R" data-lang="R"><span class="line"><span class="cl"><span class="nf">rename</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">new_name1</span> <span class="o">=</span> <span class="n">old_name1</span><span class="p">,</span> <span class="n">nn2</span> <span class="o">=</span> <span class="n">on2</span><span class="p">)</span>  <span class="c1"># requires library(dplyr)</span>
</span></span></code></pre></div><h2 id="reorder-columns">Reorder Columns</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-R" data-lang="R"><span class="line"><span class="cl"><span class="n">df</span> <span class="o">%&gt;%</span> <span class="nf">select</span><span class="p">(</span><span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">,</span> <span class="n">col3</span><span class="p">,</span> <span class="n">col4</span><span class="p">)</span> <span class="c1"># requires library(dplyr) </span>
</span></span><span class="line"><span class="cl"><span class="c1"># the above selects data in the order of columns as shown above</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">%&gt;%</span> <span class="nf">select</span><span class="p">(</span><span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">,</span> <span class="nf">everything</span><span class="p">())</span> <span class="c1"># this order col1, col2 and  keeps all the columns same as before. </span>
</span></span></code></pre></div><h2 id="select-rows">Select Rows</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-R" data-lang="R"><span class="line"><span class="cl"><span class="n">df</span><span class="nf">[</span><span class="p">(</span><span class="nf">is.na</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">col1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">df</span><span class="o">$</span><span class="n">col2</span> <span class="o">!=</span><span class="m">0</span><span class="p">)</span> <span class="o">|</span> <span class="n">df</span><span class="o">$</span><span class="n">col3</span> <span class="o">==</span> <span class="m">10</span><span class="p">,</span>  <span class="n">]</span> <span class="c1"># select rows based on given conditions</span>
</span></span><span class="line"><span class="cl"><span class="n">df[</span><span class="o">!</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">colname</span> <span class="o">%in%</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;a&#34;</span><span class="p">,</span> <span class="s">&#34;b&#34;</span><span class="p">)),</span> <span class="n">]</span>  <span class="c1"># select rows excluding the ones that have a or c in colname.</span>
</span></span></code></pre></div><h2 id="sort-datasets-based-on-columns">Sort Datasets based on Columns</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-R" data-lang="R"><span class="line"><span class="cl"><span class="n">df_new</span> <span class="o">&lt;-</span> <span class="n">df</span><span class="nf">[order</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">col1</span><span class="p">,</span><span class="n">df</span><span class="o">$</span><span class="n">col2</span><span class="p">),</span> <span class="n">]</span>
</span></span></code></pre></div><p>This will sort the dataset in ascending order based on col1 and col2. For inverse sorting we just need to use the negative sign.</p>
<h2 id="counting-in-r">Counting in R</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-R" data-lang="R"><span class="line"><span class="cl"><span class="nf">length</span><span class="p">(</span><span class="nf">unique</span><span class="p">(</span><span class="n">vec</span><span class="p">))</span>  <span class="c1"># count the number of unique values</span>
</span></span><span class="line"><span class="cl"><span class="nf">sum</span><span class="p">(</span><span class="nf">is.na</span><span class="p">(</span><span class="n">vec</span><span class="p">))</span>    <span class="c1"># count the number of NAs</span>
</span></span></code></pre></div><h3 id="reference">Reference</h3>
<p>
<a href="https://www.statology.org/reorder-columns-r/" target="_blank" rel="nofollow noreferrer noopener">https://www.statology.org/reorder-columns-r/</a></p>

    </div>
</article>
<div class="pagination">
    
    <div class="prev"> <a href="http://verma-bipul.github.io/programming/r/r_basics/">Previous Post</a> </div>
    
    
    <div class="next"> <a href="http://verma-bipul.github.io/programming/r/r_plots/">Next Post</a> </div>
    
</div>


        </main><footer class="site-footer">
	<span class="left">Gohugo/0.108.0 </span> 
	<span class="right">
		<em>Information Set Blog</em>
	</span>
</footer>
</body>
</html>
